# Family Feud 题库版 - 使用说明

## 🎯 功能特点

题库版在空白模板的基础上增加了完整的题库管理功能：

- **题库管理**：保存用户创建的题目到题库
- **快速加载**：点击题库中的题目即可加载使用
- **智能去重**：自动检测重复题目，避免题库冗余
- **题库操作**：支持查看、删除、清空题库
- **题库来源**：自动保存新问题，标记题库来源
- **数据持久化**：使用浏览器本地存储，刷新页面不丢失

## 🚀 快速开始

1. **访问题库版**：
   ```
   http://localhost:8001/question_bank.html
   ```

2. **使用现有题库**：
   - 点击"查看题库"按钮
   - 浏览题库中的题目
   - 点击"使用此题"或整个题目卡片

3. **创建新题目**：
   - 在问题输入框中输入新问题
   - 填写8个选项（允许空白）
   - 点击"保存并开始游戏"

## 📖 详细操作

### 题库管理

#### 查看题库
- 点击"查看题库"按钮展开题库列表
- 题库显示问题标题、答案列表和操作按钮
- 点击题目卡片或"使用此题"按钮加载题目

#### 使用题库题目
- 加载的题目会自动填充到表单中
- 可以修改答案后重新保存
- 题目来源会显示为"题库 #编号"

#### 删除题目
- 点击题目右侧的"删除"按钮
- 确认后题目将从题库中移除
- 如果删除的是当前选中的题目，表单会被清空

#### 清空题库
- 点击"清空题库"按钮
- 需要二次确认，操作不可恢复
- 清空后题库将显示为空状态

### 创建新题目

#### 输入问题
- 在"问题"输入框中输入你的问题
- 问题不能为空
- 支持中英文和各种符号

#### 填写答案
- 8个答案输入框对应8个翻牌位置
- 允许空白答案（显示为"空白"）
- 非空答案会随机分配10-40分

#### 保存规则
- 新问题会自动保存到题库
- 如果题库中已有相同问题，不会重复保存
- 保存成功后会自动开始游戏

### 游戏界面

#### 题库来源显示
- 游戏界面顶部显示题目来源
- "题库 #编号"表示来自题库的题目
- "新问题"表示用户新创建的题目

#### 其他功能
- 其他功能与空白模板相同
- 支持翻牌、计分、显示全部等
- 支持重新开始和返回设置

## 💾 技术细节

### 数据存储
- 使用浏览器的 localStorage 存储题库
- 题库数据格式为 JSON
- 存储键名：`familyFeudQuestionBank`

### 题库结构
```javascript
[
  {
    "question": "问题文本",
    "answers": [
      {"answer": "答案1", "points": 25},
      {"answer": "答案2", "points": 18}
    ]
  }
]
```

### 默认题库
首次使用时自动创建包含3个示例题目的默认题库：
1. 说出人们最常忘记的三种日常用品
2. 说出最受欢迎的三种披萨配料  
3. 说出人们最害怕的三样东西

### 智能功能
- **重复检测**：基于问题文本进行去重
- **自动保存**：新题目自动加入题库
- **来源标记**：区分题库题目和新题目
- **状态保持**：刷新页面后题库数据不丢失

## 🎨 自定义选项

### 修改默认题库
在 `question_bank_script.js` 的 `addDefaultQuestions()` 方法中修改：

```javascript
addDefaultQuestions() {
    this.questionBank = [
        {
            question: "你的自定义问题1",
            answers: [
                { answer: "答案1", points: 30 },
                { answer: "答案2", points: 25 }
            ]
        },
        // 添加更多题目...
    ];
    this.saveQuestionBank();
}
```

### 修改分数范围
在 `generateRandomPoints()` 方法中修改分数范围：

```javascript
generateRandomPoints() {
    // 修改这里的数字来改变分数范围
    return Math.floor(Math.random() * 31) + 10; // 10-40分
}
```

### 修改存储键名
在 `loadQuestionBank()` 和 `saveQuestionBank()` 方法中修改：

```javascript
const saved = localStorage.getItem('yourCustomKeyName');
localStorage.setItem('yourCustomKeyName', JSON.stringify(this.questionBank));
```

## ⚠️ 注意事项

### 浏览器兼容性
- 需要支持 localStorage 的现代浏览器
- 建议 Chrome、Firefox、Safari、Edge
- 不支持 IE8 及以下版本

### 存储限制
- localStorage 有存储空间限制（通常5-10MB）
- 大量题目可能导致存储失败
- 建议题库数量控制在合理范围内

### 数据安全
- 题库数据存储在浏览器本地
- 清除浏览器数据会导致题库丢失
- 建议定期导出重要题库数据

### 性能优化
- 题库列表使用虚拟滚动（大量题目时）
- 题目搜索和筛选功能
- 分页显示大量题目

## 🎯 使用场景

题库版特别适合以下场景：

- **教育机构**：老师可以创建和管理教学题库
- **培训机构**：培训师可以准备多套培训题目
- **活动策划**：活动主持人可以准备不同主题的题目
- **家庭娱乐**：家庭成员可以创建个性化题库
- **企业培训**：HR可以准备员工培训题库

## 🔧 故障排除

### 题库无法保存
- 检查浏览器是否支持 localStorage
- 检查是否有足够的存储空间
- 尝试清除一些旧的存储数据

### 题库数据丢失
- 检查是否清除了浏览器数据
- 检查是否使用了隐私浏览模式
- 尝试重新创建默认题库

### 加载题目失败
- 检查题库数据格式是否正确
- 检查网络连接是否正常
- 尝试刷新页面重新加载

## 📞 技术支持

如遇到问题，请检查：
1. 浏览器控制台是否有错误信息
2. localStorage 是否可用
3. 题库数据格式是否正确
4. 网络连接是否正常

---

**享受你的 Family Feud 题库版游戏体验！** 🎮✨